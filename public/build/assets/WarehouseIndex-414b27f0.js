import{i as R,d as w,T as B,o as c,c as F,w as i,a as e,t as _,u as d,b as a,j as y,v as E,f as k,e as f,h as C,l as V,g as M,F as W,P as A,O as j}from"./app-988a0f8c.js";import{_ as I}from"./AdminLayout-058262ec.js";import{_ as p}from"./NavButton-b5e6fa9a.js";import{a as P}from"./DialogModal-5a5c923f.js";import{_ as S}from"./SecondaryButton-a4c864aa.js";import{_ as L}from"./PrimaryButton-2f6f5d3d.js";import U from"./WarehouseTable-fc5956aa.js";import{_ as q}from"./WarehousePagination-981caafb.js";import $ from"./CreateWarehouseForm-ea7f6e63.js";import"./DropdownLink-4fa55bfd.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"font-semibold text-xl text-gray-800 leading-tight"},G={class:"flex justify-between items-center"},H=e("span",null," Editar almacen ",-1),J={class:"flex flex-col gap-4"},K={class:"flex flex-col gap-4"},Q=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Nombre ",-1),X={class:"flex flex-col gap-4"},Y=e("label",{for:"location",class:"block text-sm font-medium text-gray-700"}," Dirección ",-1),Z={class:"w-full py-12"},ee={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},te={class:"w-full"},oe={class:"px-4 md:px-0 flex flex-col md:flex-row gap-4"},se={key:0,class:"hidden md:block mx-auto max-w-xs md:max-w-none overflow-hidden shadow-xl sm:rounded-lg mt-4 border-2"},ne={class:"bg-white shadow-md rounded my-6 overflow-auto"},ae=e("div",null,[e("h2",{class:"text-2xl font-bold py-4 pl-6 text-gray-700"},"Almacenes")],-1),le={class:"mb-2 flex justify-center"},ie={key:1,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mt-4 border-2"},de={class:"px-4 md:py-4 py-2"},re=e("div",{class:"my-4"},[e("h2",{class:"text-2xl font-bold text-gray-700 md:text-center"},"Nuevo almacen.")],-1),ce={class:"md:hidden max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl m-3"},me={class:"md:flex"},ue={class:"p-8"},fe=e("div",{class:"uppercase tracking-wide text-sm text-indigo-500 font-semibold"}," ",-1),xe={class:"block mt-1 text-lg leading-tight font-medium text-black"},_e={class:"mt-2 text-gray-500"},pe=["onClick"],ve=["onClick"],Ne={__name:"WarehouseIndex",props:{warehouses:{type:Object,required:!0}},setup(T){const x=T,m=R(),u={READ:"read",CREATE:"create",EDIT:"edit",DELETE:"delete"},r=w("read"),v=n=>{r.value=n},h=n=>r.value===n,N=n=>{s.name=n.name,s.location=n.location,s.id=n.id},l=w(!1),g=n=>{N(n),l.value=!0},s=B({name:"",location:"",user_id:null}),O=()=>{s.put(route("admin.warehouse.update",{id:s.id}),{onSuccess:n=>{m.success("Almacen actualizado con exito!",{position:A.TOP_CENTER}),l.value=!1},onError:()=>{m.error("Algo salio mal, intentalo de nuevo"),l.value=!1},onFinish:()=>{l.value=!1}})},b=n=>{j.delete(route("admin.warehouse.destroy",{id:n}),{onSuccess:t=>{m.success("Almacen eliminado con exito!",{position:A.TOP_CENTER}),l.value=!1},onError:()=>{m.error("Algo salio mal, intentalo de nuevo")},onFinish:()=>{$.reset(),l.value=!1}})};return(n,t)=>(c(),F(I,{title:"Almacen"},{header:i(()=>[e("h2",z,_(d(s)?d(s).name:"Almacen"),1)]),content:i(()=>[a(P,{show:l.value,onClose:t[5]||(t[5]=o=>l.value=!1)},{title:i(()=>[e("div",G,[H,e("button",{onClick:t[0]||(t[0]=o=>b(d(s).id)),class:"mt-5 ml-3 px-4 py-2 border border-red-500 text-sm font-medium rounded-md text-red-500 hover:text-white hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Eliminar ")])]),content:i(()=>[e("div",J,[e("div",K,[Q,y(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[1]||(t[1]=o=>d(s).name=o),placeholder:"Nombre del almacen..",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},null,512),[[E,d(s).name]])]),e("div",X,[Y,y(e("input",{type:"text",name:"location",id:"location","onUpdate:modelValue":t[2]||(t[2]=o=>d(s).location=o),placeholder:"Calle 123, Ciudad, Estado...",class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md"},null,512),[[E,d(s).location]])])])]),footer:i(()=>[a(S,{onClick:t[3]||(t[3]=o=>l.value=!1)},{default:i(()=>[k(" Cancelar ")]),_:1}),a(L,{disabled:d(s).processing,onClick:t[4]||(t[4]=o=>O()),class:"ml-2"},{default:i(()=>[k(" Guardar ")]),_:1},8,["disabled"])]),_:1},8,["show"]),e("div",Z,[e("div",ee,[e("div",te,[e("div",oe,[a(p,{title:"Añadir",route:"warehouse.index",onClick:t[6]||(t[6]=o=>v(u.CREATE)),active:h(u.CREATE)},null,8,["active"]),a(p,{title:"Mostrar",route:"warehouse.index",onClick:t[7]||(t[7]=o=>v(u.READ)),active:h(u.READ)},null,8,["active"]),a(p,{title:"Editar",route:"warehouse.index"})])]),a(V,{name:"slide-up",mode:"out-in"},{default:i(()=>[r.value==="read"?(c(),f("div",se,[e("div",null,[e("div",ne,[ae,a(U,{warehouses:x.warehouses,setModal:g},null,8,["warehouses"])])]),e("div",le,[a(q,{links:x.warehouses.links},null,8,["links"])])])):r.value==="create"?(c(),f("div",ie,[e("div",de,[re,a($)])])):C("",!0)]),_:1}),r.value==="read"?(c(!0),f(W,{key:0},M(x.warehouses.data,o=>(c(),f("div",ce,[e("div",me,[e("div",ue,[fe,e("p",xe,_(o.name),1),e("p",_e,_(o.location),1),e("button",{onClick:D=>g(o),class:"mt-5 px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Editar ",8,pe),e("button",{onClick:D=>b(o.id),class:"mt-5 ml-3 px-4 py-2 border border-red-500 text-sm font-medium rounded-md text-red-500 hover:text-white hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Eliminar ",8,ve)])])]))),256)):C("",!0)])])]),_:1}))}};export{Ne as default};
